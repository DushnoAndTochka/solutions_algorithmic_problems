# 859. Buddy Strings

Для решения задачи нужно параллельно пройтись по буквам в строке и проверить условие

А вот и решение


```python
import collections


class Solution:
    def buddy_strings(self, s: str, goal: str) -> bool:
        # Если длины не равны, то сразу возвращаем False
        if len(s) != len(goal):
            return False
        
        # Запоминаем символ отличающийся в goal
        goal_diff = None
        # Запоминаем символ отличающийся в s
        s_diff = None
        # Флаг, показывающий поменяли ли мы уже символы
        swapped = False
        # Параллельно проходимся по символам строк
        for s_item, goal_item in zip(s, goal):
            # Если символы совпадают, то переходим к следующим
            if s_item == goal_item:
                continue
            # Если мы уже поменяли символы, то возвращаем False
            if swapped:
                return False
            # Если это первое несовпадение, то запоминаем отличающиеся символы
            if goal_diff is None:
                goal_diff = goal_item
                s_diff = s_item
                continue
            # Если символы не равны с первым несовпадением, то возвращаем False
            if goal_diff != s_item or s_diff != goal_item:
                return False
            # Обновляем флаг
            swapped = True
        # Если мы поменяли символы, значит возвращаем True
        if swapped:
            return True
        # Если отличается только один символ, то возвращаем False
        if goal_diff is not None:
            return False
        
        # Тут строки равны, то может быть такое, 
        # что в строке есть одинаковые буквы и их можно поменять
        
        # Если букв больше чем в алфавите, то точно есть повторы
        if len(s) > 26:
            return True
        
        # Проверяем есть ли повторы
        return collections.Counter(s).most_common(1)[0][1] > 1
```

А теперь поговорим о сложности, сложность алгоритма у нас линейная, так как мы проходимся один раз по строкам.

Если символов меньше 26, то проходимся 2 раза, но это не так важно.

А по памяти у нас константа, так как мы не используем линейную память почти во всем алгоритме, 
только если символов меньше 26, то можно считать что мы используем словарь, 
в котором не больше 26 ключей, а это всё еще константа.
